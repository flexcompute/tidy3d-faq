---
title: How do I create a spatially varying material?
date: 2023-12-05 19:33:11
enabled: true
category: "Mediums"
---
<div>When a regular Tidy3D&nbsp;<a href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.Medium.html?__hstc=197414576.85a08fc595b47d0b94ebfa20ba44cd6d.1696006513341.1701802736288.1701804845497.22&amp;__hssc=197414576.1.1701804845497&amp;__hsfp=3209960735">Medium</a>&nbsp;or a dispersive medium such as&nbsp;<a href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.Lorentz.html?__hstc=197414576.85a08fc595b47d0b94ebfa20ba44cd6d.1696006513341.1701802736288.1701804845497.22&amp;__hssc=197414576.1.1701804845497&amp;__hsfp=3209960735">Lorentz</a>&nbsp;is assigned to a&nbsp;<a href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.Structure.html?__hstc=197414576.85a08fc595b47d0b94ebfa20ba44cd6d.1696006513341.1701802736288.1701804845497.22&amp;__hssc=197414576.1.1701804845497&amp;__hsfp=3209960735">Structure</a>, the refractive index is homogeneous within the geometry. In some cases, such as gradient-index optics component and inhomogeneous doped structure simulations, a spatially varying refractive index distribution is desirable. Fortunately, Tidy3D supports both&nbsp;<strong>non-dispersive</strong>&nbsp;and&nbsp;<strong>dispersive</strong>&nbsp;media that have a spatially varying refractive index, and thus can help you achieve this result very conveniently.</div>

<div> </div>

<div><div>The available custom materials are&nbsp;<a target="_blank" rel="noopener" href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.CustomMedium.html">CustomMedium</a>,&nbsp;<a target="_blank" rel="noopener" href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.CustomPoleResidue.html">CustomPoleResidue</a>,&nbsp;<a target="_blank" rel="noopener" href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.CustomLorentz.html">CustomLorentz</a>,&nbsp;<a target="_blank" rel="noopener" href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.CustomSellmeier.html">CustomSellmeier</a>,&nbsp;<a target="_blank" rel="noopener" href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.CustomDrude.html">CustomDrude</a>,&nbsp;<a target="_blank" rel="noopener" href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.CustomDebye.html">CustomDebye</a>, and <a target="_blank" rel="noopener" href="https://docs.flexcompute.com/projects/tidy3d/en/latest/api/_autosummary/tidy3d.CustomAnisotropicMedium.html">CustomAnisotropicMedium</a>. To create a custom medium, call one of the "Custom-" materials, e.g. "CustomMedium" for a spatially varying non-dispersive medium, and provide the related datasets.</div><div> </div><div>See <a href="https://www.flexcompute.com/tidy3d/examples/notebooks/CustomMediumTutorial/">this tutorial</a> for examples on creating spatially varying materials.</div></div>
